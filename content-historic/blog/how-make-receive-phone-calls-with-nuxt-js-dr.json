{"_filedata":{"slug":"how-make-receive-phone-calls-with-nuxt-js-dr"},"title":"How to Make and Receive Phone Calls with Nuxt.js","description":"","thumbnail":"https://www.nexmo.com/wp-content/uploads/2020/02/TW_Calls_Nuxt-js_1200x675.png","author":154,"published":true,"published_at":"2020-03-02T16:10:50","tags":[655,571,1150,1207,1681,203,1586],"body":"Iâ€™ve explored the Nuxt.js framework in [a previous blog post](https://www.nexmo.com/blog/2020/02/19/how-send-receive-sms-messages-with-nuxt-js-dr), and I liked it so much that I was looking for reasons to use it more. So I thought it would be good to take what I learned in there and apply it to a more complex API. I wrote the Middleware methods using Node.js requests, so this blog post expands on them, using them not only for plain text but for JSON requests as well.\n\nAn API that uses JSON as a building block is the Nexmo [Voice API](https://developer.nexmo.com/voice/voice-api/overview). It allows you to make and receive phone calls programmatically, and control the flow of inbound and outbound calls in JSON with Nexmo Call Control Objects. Weâ€™re going to use it, alongside [Node.js HTTP requests](https://nodejs.org/api/http.html) (yes, without [Express](https://expressjs.com/)), [Nuxt.js](nuxtjs.org/) server middleware, a [Vue.js](vuejs.org/) Terminal UI and [WebSockets](https://developer.mozilla.org/en-US/docs/Glossary/WebSockets) to make and receive phone calls.\n\nHereâ€™s a look at what weâ€™re building:\n\n![nexmo call vue](https://www.nexmo.com/wp-content/uploads/2020/02/end-result-1.png)\n\nThe code for this tutorial can is on [GitHub](https://github.com/nexmo-community/nexmo-nuxt-call).\n\n## Prerequisites\n\nBefore you begin, make sure you have:\n\n*   A [Nexmo account](https://dashboard.nexmo.com/sign-up)\n*   [Node.js](https://nodejs.org/en/download/) installed on your machine\n*   [ngrok](https://ngrok.com/) to make the code on our local machine-accessible to the outside world\n*   The beta version of the [Nexmo CLI](https://developer.nexmo.com/tools): `npm install -g nexmo-cli@beta`\n\n## Generate a New Nuxt.js Application\n\nTo make it easier to get started, the Nuxt.js team created a CLI tool called `create-nuxt-app`, that scaffolds a new project and lets you select your way through all the modules you can have in a Nuxt.js application. Iâ€™ve used that tool to generate a new project, called `nexmo-nuxt-call`.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">$ npx create-nuxt-app nexmo-nuxt-call</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a1e849598845-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a1e849598845-2\">2</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a1e849598845-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">npx </span><span class=\"crayon-v\">create</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">nuxt</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">app </span><span class=\"crayon-v\">nexmo</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">nuxt</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">call</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a1e849598845-2\">&nbsp;</div></div></td></tr></tbody></table>\n\nIâ€™ve chosen:  \nâ€“ `npm` as my package manager.  \nâ€“ Tailwind as my UI framework because Iâ€™ve found a nice [Tailwind CSS](https://tailwindcss.com/) [component](https://tailwindcomponents.com/component/mac-terminal) and I wanted to build with it.  \nâ€“ no custom server framework, the Nuxt.js recommendation.  \nâ€“ 2 modules: [`Axios`](https://github.com/axios/axios#readme) for HTTP requests, and [`dotenv`](https://github.com/motdotla/dotenv#readme) so I can use an `.env` file for my build variables.  \nâ€“ [`ESlint`](https://eslint.org/) as my linting tool, because Iâ€™m a fan ðŸ˜….  \nâ€“ not to add a testing framework because I wonâ€™t write any tests for this blog post.  \nâ€“ `Universal` as my rendering mode because that gave me Server Side Rendering out of the box.  \nâ€“ [`jsconfig.json`](https://code.visualstudio.com/docs/languages/jsconfig) as an extra development tool because my editor of choice for Vue.js is [VS Code](https://code.visualstudio.com/).\n\n![Create a Nuxt.js App](https://www.nexmo.com/wp-content/uploads/2020/02/create-nuxt-app-call.png)\n\nAfter the scaffolding finished, Iâ€™ve switched directory to my new project, and ran the project using `npm run dev`. That starts both the client and server processes and makes them available at `http://localhost:3000`. It will also hot reload them every time I make a change, so I can see it live without having to restart the processes.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">$ cd nexmo-nuxt-call $ npm run dev</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a22249771169-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a22249771169-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a22249771169-3\">3</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a22249771169-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">cd </span><span class=\"crayon-v\">nexmo</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">nuxt</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">call</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a22249771169-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">npm </span><span class=\"crayon-e\">run </span><span class=\"crayon-i\">dev</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a22249771169-3\">&nbsp;</div></div></td></tr></tbody></table>\n\nThe command generated a whole directory structure, which is the cornerstone for Nuxt.js. In the root folder, there is `nuxt.config.js`, which is the configuration file for Nuxt.js. Weâ€™ll update that to add `serverMiddleware`. The server middleware works by specifying routes and associated JavaScript files to be executed when those routes are accessed. Weâ€™ll create three routes, `/api/make` and `/api/receive` to handle making and receiving phone calls, and `/api/events` to handle the incoming call events from Nexmo. At the bottom of it, add a property for `serverMiddleware`:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">export default { ... }, serverMiddleware: [ { path: '/api/events', handler: '~/api/events.js' }, { path: '/api/receive', handler: '~/api/receive-call.js' }, { path: '/api/make', handler: '~/api/make-call.js' } ] }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a23793824395-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a23793824395-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a23793824395-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a23793824395-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a23793824395-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a23793824395-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a23793824395-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a23793824395-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a23793824395-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a23793824395-10\">10</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a23793824395-1\"><span class=\"crayon-e\">export</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">default</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a23793824395-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a23793824395-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a23793824395-4\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">serverMiddleware</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a23793824395-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">path</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/api/events'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">handler</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'~/api/events.js'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a23793824395-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">path</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/api/receive'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">handler</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'~/api/receive-call.js'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a23793824395-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">path</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/api/make'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">handler</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'~/api/make-call.js'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a23793824395-8\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a23793824395-9\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a23793824395-10\">&nbsp;</div></div></td></tr></tbody></table>\n\n## Run ngrok\n\nBecause Nexmo makes requests on our `/api/receive` and `/api/events` routes, weâ€™ll need to expose those to the internet. An excellent tool for that is ngrok. If you havenâ€™t used ngrok before, there is a [blog post](https://www.nexmo.com/blog/2017/07/04/local-development-nexmo-ngrok-tunnel-dr) that explains how to use it. If youâ€™re familiar with ngrok, run it with `http` on the 3000 port.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">$ ngrok http 3000</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a24924708096-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a24924708096-2\">2</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a24924708096-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ngrok </span><span class=\"crayon-i\">http</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3000</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a24924708096-2\">&nbsp;</div></div></td></tr></tbody></table>\n\nAfter ngrok runs, it gives you a random-looking URL, that weâ€™ll use as the base for our Webhooks later on. Mine looks like this: `http://fa2f3700.ngrok.io`.\n\n## Create a Nexmo Application\n\nTo interact with the Nexmo Voice API, weâ€™ll need to create a Nexmo Application that has a `voice` capability. You can create an application through the [Nexmo Dashboard](https://dashboard.nexmo.com/applications/new). You could also create a Nexmo application through the Nexmo CLI, and Iâ€™m going to do just that. In case you havenâ€™t used the Nexmo CLI before, you need to set up it with your Nexmo API key and secret before we can use it. You can find your API key and secret in your [Nexmo Dashboard](https://dashboard.nexmo.com/getting-started-guide).\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">$ nexmo setup NEXMO_API_KEY NEXMO_API_SECRET</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a25954862304-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a25954862304-2\">2</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a25954862304-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nexmo </span><span class=\"crayon-e\">setup </span><span class=\"crayon-e\">NEXMO_API_KEY </span><span class=\"crayon-v\">NEXMO_API</span><span class=\"crayon-sy\">_</span>SECRET</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a25954862304-2\">&nbsp;</div></div></td></tr></tbody></table>\n\nWeâ€™ll use the `app:create` command of the CLI to create the voice application, and generate a private key for it. Weâ€™ll save the private key on disk as well because weâ€™ll need it to make a phone call later on.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">$ nexmo app:create \"nexmo-nuxt-call\" --capabilities=voice --voice-answer-url=https://YOUR_NGROK_URL/api/receive --voice-event-url=https://YOUR_NGROK_URL/api/events --keyfile=./private.key</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a27559972818-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a27559972818-2\">2</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a27559972818-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nexmo </span><span class=\"crayon-v\">app</span><span class=\"crayon-o\">:</span><span class=\"crayon-i\">create</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"nexmo-nuxt-call\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">capabilities</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">voice</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">voice</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">answer</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">url</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//YOUR_NGROK_URL/api/receive --voice-event-url=https://YOUR_NGROK_URL/api/events --keyfile=./private.key</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a27559972818-2\">&nbsp;</div></div></td></tr></tbody></table>\n\nThe output for the command returns a Nexmo Application ID and looks similar to this:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">Application created: aaaaaaaa-bbbb-cccc-dddd-abcd12345678 No existing config found. Writing to new file. Credentials written to /Users/lakatos88/nexmo/nexmo-nuxt-call/.nexmo-app Private Key saved to: /Users/lakatos88/nexmo/nexmo-nuxt-call/private.key</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a28376349435-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a28376349435-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a28376349435-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a28376349435-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a28376349435-5\">5</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a28376349435-1\"><span class=\"crayon-e\">Application </span><span class=\"crayon-v\">created</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">aaaaaaaa</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">bbbb</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">cccc</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">dddd</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">abcd12345678</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a28376349435-2\"><span class=\"crayon-e\">No </span><span class=\"crayon-e\">existing </span><span class=\"crayon-e\">config </span><span class=\"crayon-v\">found</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Writing </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">file</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a28376349435-3\"><span class=\"crayon-e\">Credentials </span><span class=\"crayon-e\">written </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Users</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lakatos88</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nexmo</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nexmo</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">nuxt</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">call</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">nexmo</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">app</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a28376349435-4\"><span class=\"crayon-m\">Private</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Key </span><span class=\"crayon-e\">saved </span><span class=\"crayon-st\">to</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Users</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lakatos88</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nexmo</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nexmo</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">nuxt</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">call</span><span class=\"crayon-o\">/</span><span class=\"crayon-m\">private</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">key</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a28376349435-5\">&nbsp;</div></div></td></tr></tbody></table>\n\nWhen Nexmo receives a phone call on a number you have rented, it makes an HTTP request to a URL (a â€˜webhookâ€™, that we specified) that contains all of the information needed to receive and respond to the call. This URL is commonly called the _answer URL_. And weâ€™ve set that to our ngrok URL, followed by `/api/receive`, which is going to be our handler for incoming calls.\n\nNexmo sends all the information about the call progress to the other webhook URL we specified when we created the Nexmo Application, called the _event URL_. Weâ€™ve set that to our ngrok URL, followed by `/api/events`, which is going to be our handler for getting the events and sending them to the UI.\n\n## Receiving Call Progress Events\n\nWeâ€™re going to implement the event URL first because Nexmo sends information there about both created and received phone calls.\n\nWeâ€™ve already registered the `/api/events` endpoint with the Nuxt.js server middleware, letâ€™s go ahead and create the file to handle it. Create the `api` directory and create an `events.js` file inside it.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">$ mkdir api $ cd api $ touch events.js</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a29706399723-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a29706399723-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a29706399723-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a29706399723-4\">4</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a29706399723-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">mkdir </span><span class=\"crayon-i\">api</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a29706399723-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">cd </span><span class=\"crayon-i\">api</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a29706399723-3\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">touch </span><span class=\"crayon-v\">events</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">js</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a29706399723-4\">&nbsp;</div></div></td></tr></tbody></table>\n\nNuxt.js expects a function export from the file, and it passes along a Node.js request and response object. Letâ€™s go ahead and fill out the `events.js` file with an HTTP POST request handler, that builds the request body from chunks, and then logs it to the console.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">export default function (req, res, next) { console.log(req.method, req.url) if (req.method === 'POST') { const body = [] req.on('data', (chunk) =&gt; { body.push(chunk) }) req.on('end', () =&gt; { const event = JSON.parse(body) console.log(event) }) } res.statusCode = 200 res.end() }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2a492925504-17\">17</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2a492925504-1\"><span class=\"crayon-e\">export </span><span class=\"crayon-st\">default</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">res</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">next</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2a492925504-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">method</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">url</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2a492925504-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">method</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">===</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'POST'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2a492925504-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">body</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2a492925504-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">on</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'data'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">chunk</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2a492925504-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">body</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">push</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">chunk</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2a492925504-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2a492925504-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">on</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'end'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2a492925504-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">event</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">JSON</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">parse</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">body</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2a492925504-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2a492925504-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2a492925504-12\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2a492925504-13\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2a492925504-14\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">res</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">statusCode</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">200</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2a492925504-15\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">res</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">end</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2a492925504-16\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2a492925504-17\">&nbsp;</div></div></td></tr></tbody></table>\n\nIâ€™m checking to see if the incoming request is a `POST` request, and then listen in on the request data chunks, adding them to a `body` array. When the request ends, Iâ€™m parsing the `body` into JSON, and logging that to the console. Thatâ€™s going to be the event data coming from Nexmo. Nexmo expects a `200 OK` status on the request, so Iâ€™m responding with that.\n\n## Making a Phone Call\n\nWeâ€™ve told Nuxt.js to use the `~/api/make-call.js` when there is a request on `/api/make`, but we havenâ€™t created the file yet. Weâ€™ll go ahead and create the `make-call.js` file inside of the `api` folder we created earlier.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">$ cd api $ touch make-call.js</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2c455949387-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2c455949387-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2c455949387-3\">3</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2c455949387-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">cd </span><span class=\"crayon-i\">api</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2c455949387-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">touch </span><span class=\"crayon-v\">make</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">call</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">js</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2c455949387-3\">&nbsp;</div></div></td></tr></tbody></table>\n\nTo make a call with the Nexmo Voice API, weâ€™ll be using the `nexmo` Node.js SDK. We need to install it first:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">$ npm install nexmo</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2d676639483-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2d676639483-2\">2</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2d676639483-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">npm </span><span class=\"crayon-e\">install </span><span class=\"crayon-i\">nexmo</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2d676639483-2\">&nbsp;</div></div></td></tr></tbody></table>\n\nWeâ€™re going to use it inside the file, and we need to require it, and then instantiate it with your Nexmo API key and secret, the Nexmo Application ID and the private key. Update `make-call.js` to look like this:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">require('dotenv').config() const Nexmo = require('nexmo') const nexmo = new Nexmo({ apiKey: process.env.NEXMO_API_KEY, apiSecret: process.env.NEXMO_API_SECRET, applicationId: process.env.NEXMO_APPLICATION_ID, privateKey: process.env.NEXMO_PRIVATE_KEY }) export default function (req, res) { console.log(req.method, req.url) }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2e080216138-14\">14</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2e080216138-1\"><span class=\"crayon-e\">require</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'dotenv'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">config</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2e080216138-2\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Nexmo</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">require</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'nexmo'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2e080216138-3\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2e080216138-4\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nexmo</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Nexmo</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2e080216138-5\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">apiKey</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">NEXMO_API_KEY</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2e080216138-6\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">apiSecret</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">NEXMO_API_SECRET</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2e080216138-7\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">applicationId</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">NEXMO_APPLICATION_ID</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2e080216138-8\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">privateKey</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">NEXMO_PRIVATE</span><span class=\"crayon-sy\">_</span>KEY</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2e080216138-9\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2e080216138-10\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2e080216138-11\"><span class=\"crayon-e\">export </span><span class=\"crayon-st\">default</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">res</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2e080216138-12\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">method</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">url</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2e080216138-13\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2e080216138-14\">&nbsp;</div></div></td></tr></tbody></table>\n\nWeâ€™re using `dotenv` here to take the API key and secret, the application Id and the path to the private key from the `.env` file instead of adding them in the code directly. So weâ€™ll need to update the `.env` file in the root of your generated project with the values for `NEXMO_API_KEY`, `NEXMO_API_SECRET`, `NEXMO_APPLICATION_ID` and `NEXMO_PRIVATE_KEY`.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">NEXMO_API_KEY=aabbcc0 NEXMO_API_SECRET=s3cRet$tuff NEXMO_APPLICATION_ID=aaaaaaaa-bbbb-cccc-dddd-abcd12345678 NEXMO_PRIVATE_KEY=./private.key</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2f750919763-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2f750919763-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2f750919763-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a2f750919763-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a2f750919763-5\">5</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2f750919763-1\"><span class=\"crayon-v\">NEXMO_API_KEY</span><span class=\"crayon-o\">=</span><span class=\"crayon-e\">aabbcc0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2f750919763-2\"><span class=\"crayon-v\">NEXMO_API_SECRET</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">s3cRet</span><span class=\"crayon-sy\">$</span><span class=\"crayon-e\">tuff</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2f750919763-3\"><span class=\"crayon-v\">NEXMO_APPLICATION_ID</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">aaaaaaaa</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">bbbb</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">cccc</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">dddd</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">abcd12345678</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a2f750919763-4\"><span class=\"crayon-v\">NEXMO_PRIVATE_KEY</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-m\">private</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">key</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a2f750919763-5\">&nbsp;</div></div></td></tr></tbody></table>\n\nThe file exports a default function that has the default request and response Node.js objects. Because they are there, and I didnâ€™t want to add the extra dependency of `express`, weâ€™ll use them to create a classical Node.js HTTP server. Letâ€™s update the `export` in the `make-call.js` file to look like this:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">export default function (req, res, next) { console.log(req.method, req.url) if (req.method === 'GET') { const url = new URL(req.url, `http://${req.headers.host}`) nexmo.calls.create({ to: [{ type: 'phone', number: url.searchParams.get('number') }], from: { type: 'phone', number: process.env.NEXMO_NUMBER }, ncco: [{ action: 'talk', text: `This is a text to speech call from Nexmo. The message is: ${url.searchParams.get('text')}` }] }, (err, responseData) =&gt; { let message if (err) { message = JSON.stringify(err) } else { message = 'Call in progress.' } res .writeHead(200, { 'Content-Length': Buffer.byteLength(message), 'Content-Type': 'text/plain' }) .end(message) }) } else { res.statusCode = 200 res.end() } }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a30938445446-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a30938445446-39\">39</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-1\"><span class=\"crayon-e\">export </span><span class=\"crayon-st\">default</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">res</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">next</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">method</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">url</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">method</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">===</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'GET'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">url</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">URL</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">url</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">http</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//${req.headers.host}`)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-5\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">nexmo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">calls</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">create</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">to</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">type</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'phone'</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">number</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">url</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">searchParams</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">get</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'number'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">from</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">type</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'phone'</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-13\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">number</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">NEXMO</span><span class=\"crayon-sy\">_</span>NUMBER</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">ncco</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">action</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'talk'</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-17\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">text</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-r\">This</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">text </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">speech </span><span class=\"crayon-e\">call </span><span class=\"crayon-e\">from </span><span class=\"crayon-v\">Nexmo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">The </span><span class=\"crayon-e\">message </span><span class=\"crayon-st\">is</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">url</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">searchParams</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">get</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'text'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">`</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-18\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-19\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">responseData</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-20\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">let </span><span class=\"crayon-e\">message</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-21\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-22\"><span class=\"crayon-e\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-23\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">message</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">JSON</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">stringify</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-24\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-25\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">message</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Call in progress.'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-26\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-27\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-i\">res</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-28\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">writeHead</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">200</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-29\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-s\">'Content-Length'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Buffer</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">byteLength</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">message</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-30\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-s\">'Content-Type'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'text/plain'</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-31\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-32\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">end</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">message</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-33\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-34\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-35\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">res</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">statusCode</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">200</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-36\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">res</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">end</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-37\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a30938445446-38\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a30938445446-39\">&nbsp;</div></div></td></tr></tbody></table>\n\nIâ€™m checking to see if the request is a `GET` request here and then using the [â€œMake an outbound call with an NCCOâ€](https://developer.nexmo.com/voice/voice-api/code-snippets/make-an-outbound-call-with-ncco/node) code snippet to make a phone call. The `nexmo.calls.create` method takes an object parameter to determine the `from`, `to` and `ncco` for the call. For the NCCO, it expects a valid set of instructions according to the [NCCO reference](https://developer.nexmo.com/voice/voice-api/ncco-reference). It also takes a `callback` method that is going to run once the API call completes. Iâ€™m taking the `from` parameter from the `.env` file, and thatâ€™s going to be a Nexmo phone number. The `to` and `text` parameters are coming from the query parameters of the incoming HTTP request.\n\nMy `callback` function is anonymous, and Iâ€™m checking to see if there was an error with the request first. If there was an error, I transform the error object to String and pass that along to the response message. If there was no error, Iâ€™m going to pass a generic `Call in progress.` message so that we can update the UI later.\n\nBecause this is a Node.js server, I need to explicitly write the request header with a `200` status, the `Content-Length`, and `Content-Type` of the message before I can send the message on the request.\n\nThere is also a fallback for all non-GET requests to return an empty `200 OK` response.\n\n### Buy a Nexmo Number\n\nYouâ€™ve probably noticed Iâ€™ve used `process.env.NEXMO_NUMBER` as caller id and that means Nuxt.js is going to look for it in the `.env` file. Before we can add it there, weâ€™ll need to buy a VOICE enabled phone number in the [Nexmo Dashboard](https://dashboard.nexmo.com/buy-numbers).\n\nWe could also buy a number through the Nexmo CLI, and Iâ€™m going to do just that.\n\nWeâ€™ll use the `number:search` command to look for an available number before we buy it. The command accepts a two-letter country code as input (Iâ€™ve used `US` for United States numbers), and we can specify a few flags to narrow down the returned list of available phone numbers. Iâ€™m using `--voice` to flag VOICE enabled numbers, `--size=5` to limit the size of the returned list, and `--verbose` to return a nicely formatted table with additional information about the available phone numbers.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">$ nexmo number:search US --voice --size=5 --verbose</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a32879309723-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a32879309723-2\">2</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a32879309723-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nexmo </span><span class=\"crayon-v\">number</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">search </span><span class=\"crayon-v\">US</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">voice</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">size</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">verbose</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a32879309723-2\">&nbsp;</div></div></td></tr></tbody></table>\n\nThe response I got looked a bit like this:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">Item 1-5 of 152097 msisdn | country | cost | type | features ----------------------------------------------------- 12013456151 | US | 0.90 | mobile-lvn | VOICE,SMS 12013505282 | US | 0.90 | mobile-lvn | VOICE,SMS 12013505971 | US | 0.90 | mobile-lvn | VOICE,SMS 12014163584 | US | 0.90 | mobile-lvn | VOICE,SMS 12014264360 | US | 0.90 | mobile-lvn | VOICE,SMS</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a33926920670-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a33926920670-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a33926920670-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a33926920670-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a33926920670-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a33926920670-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a33926920670-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a33926920670-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a33926920670-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a33926920670-10\">10</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a33926920670-1\"><span class=\"crayon-i\">Item</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">152097</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a33926920670-2\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a33926920670-3\"><span class=\"crayon-v\">msisdn</span><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">country</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cost</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">type</span><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">features</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a33926920670-4\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a33926920670-5\"><span class=\"crayon-cn\">12013456151</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">US</span><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.90</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mobile</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">lvn</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">VOICE</span><span class=\"crayon-sy\">,</span><span class=\"crayon-i\">SMS</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a33926920670-6\"><span class=\"crayon-cn\">12013505282</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">US</span><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.90</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mobile</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">lvn</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">VOICE</span><span class=\"crayon-sy\">,</span><span class=\"crayon-i\">SMS</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a33926920670-7\"><span class=\"crayon-cn\">12013505971</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">US</span><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.90</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mobile</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">lvn</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">VOICE</span><span class=\"crayon-sy\">,</span><span class=\"crayon-i\">SMS</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a33926920670-8\"><span class=\"crayon-cn\">12014163584</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">US</span><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.90</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mobile</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">lvn</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">VOICE</span><span class=\"crayon-sy\">,</span><span class=\"crayon-i\">SMS</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a33926920670-9\"><span class=\"crayon-cn\">12014264360</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">US</span><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.90</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mobile</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">lvn</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">VOICE</span><span class=\"crayon-sy\">,</span><span class=\"crayon-i\">SMS</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a33926920670-10\">&nbsp;</div></div></td></tr></tbody></table>\n\nIâ€™ve picked the first number in the response, so letâ€™s go ahead and buy that number on the Nexmo platform.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">$ nexmo number:buy 12013456151 --confirm</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a34958683741-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a34958683741-2\">2</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a34958683741-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nexmo </span><span class=\"crayon-v\">number</span><span class=\"crayon-o\">:</span><span class=\"crayon-i\">buy</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">12013456151</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">confirm</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a34958683741-2\">&nbsp;</div></div></td></tr></tbody></table>\n\nNow that you own that phone number letâ€™s go ahead and add it to the `.env` file.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">NEXMO_API_KEY=aabbcc0 NEXMO_API_SECRET=s3cRet$tuff NEXMO_APPLICATION_ID=aaaaaaaa-bbbb-cccc-dddd-abcd12345678 NEXMO_PRIVATE_KEY=./private.key FROM_NUMBER=12013456151</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a36357406672-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a36357406672-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a36357406672-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a36357406672-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a36357406672-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a36357406672-6\">6</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a36357406672-1\"><span class=\"crayon-v\">NEXMO_API_KEY</span><span class=\"crayon-o\">=</span><span class=\"crayon-e\">aabbcc0</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a36357406672-2\"><span class=\"crayon-v\">NEXMO_API_SECRET</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">s3cRet</span><span class=\"crayon-sy\">$</span><span class=\"crayon-e\">tuff</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a36357406672-3\"><span class=\"crayon-v\">NEXMO_APPLICATION_ID</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">aaaaaaaa</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">bbbb</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">cccc</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">dddd</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">abcd12345678</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a36357406672-4\"><span class=\"crayon-v\">NEXMO_PRIVATE_KEY</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-m\">private</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">key</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a36357406672-5\"><span class=\"crayon-v\">FROM_NUMBER</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">12013456151</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a36357406672-6\">&nbsp;</div></div></td></tr></tbody></table>\n\nWe can test the endpoint we created, make sure it works. Because itâ€™s a `GET` request, we donâ€™t need an additional tool like Postman; we can use the URL directly in the browser. If you load a URL with a query like `http://localhost:3000/api/make?text=hello&number=YOUR_PHONE_NUMBER`, replacing `YOUR_PHONE_NUMBER` with your mobile number, you should get a phone call with a voice reading out `This is a text to speech call from Nexmo. The message is: hello` on your phone. Because weâ€™ve set up the event URL, youâ€™ll also see the events related to the call in the terminal window where youâ€™re running the Nuxt.js application.\n\n![](https://www.nexmo.com/wp-content/uploads/2020/02/log-events-make.png)\n\n## Receiving a Phone Call\n\nWhen a Nexmo phone number receives an incoming phone call, Nexmo goes to the Webhook you have specified as the Answer URL for the application associated with that phone number. Weâ€™ll need to create the `/api/receive` endpoint, and return a valid NCCO on it, for Nexmo to know what to do with the call.\n\nWeâ€™ve already registered the `/api/receive` endpoint with the Nuxt.js server middleware, letâ€™s go ahead and create the file to handle it. Inside the `api` directory, create a `receive-call.js` file.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">$ cd api $ touch receive-call.js</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a37896047793-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a37896047793-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a37896047793-3\">3</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a37896047793-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">cd </span><span class=\"crayon-i\">api</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a37896047793-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">touch </span><span class=\"crayon-v\">receive</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">call</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">js</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a37896047793-3\">&nbsp;</div></div></td></tr></tbody></table>\n\nThe file works similarly to the `event.js` file we created earlier, it has the same `export default function` syntax, receiving a Node.js request and response object. Letâ€™s go ahead and fill out the `receive-call.js` file with a GET request handler, that builds the NCCO JSON, and then returns it on the response.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">export default function (req, res, next) { console.log(req.method, req.url) if (req.method === 'GET') { const ncco = JSON.stringify([{ action: 'talk', text: 'Thank you for calling my Nexmo number.' }]) res .writeHead(200, { 'Content-Length': Buffer.byteLength(ncco), 'Content-Type': 'application/json' }) .end(ncco) } else { res.statusCode = 200 res.end() } }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a38904948809-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a38904948809-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a38904948809-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a38904948809-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a38904948809-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a38904948809-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a38904948809-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a38904948809-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a38904948809-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a38904948809-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a38904948809-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a38904948809-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a38904948809-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a38904948809-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a38904948809-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a38904948809-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a38904948809-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a38904948809-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a38904948809-19\">19</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a38904948809-1\"><span class=\"crayon-e\">export </span><span class=\"crayon-st\">default</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">res</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">next</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a38904948809-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">method</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">url</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a38904948809-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">method</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">===</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'GET'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a38904948809-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ncco</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">JSON</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">stringify</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a38904948809-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">action</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'talk'</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a38904948809-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">text</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Thank you for calling my Nexmo number.'</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a38904948809-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a38904948809-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-i\">res</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a38904948809-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">writeHead</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">200</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a38904948809-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-s\">'Content-Length'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Buffer</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">byteLength</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ncco</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a38904948809-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-s\">'Content-Type'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'application/json'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a38904948809-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a38904948809-13\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">end</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ncco</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a38904948809-14\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a38904948809-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">res</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">statusCode</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">200</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a38904948809-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">res</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">end</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a38904948809-17\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a38904948809-18\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a38904948809-19\">&nbsp;</div></div></td></tr></tbody></table>\n\nIâ€™m checking to see if the incoming request is a `GET` request, and then stringify a valid NCCO object. Iâ€™m using a `talk` action to thank the caller for calling my Nexmo number. Because Nexmo is looking for a JSON response, Iâ€™m adding a `'Content-Type': 'application/json'` header to the response, with a `200` HTTP status code, and sending the stringified NCCO on the response. There is also a fallback for non-GET HTTP requests that returns an empty `200 OK` response.\n\n### Link the Nexmo Number to the Nexmo Application\n\nWeâ€™ll need to associate the phone number we bought earlier to the application we created so that when the number gets an incoming phone call, it uses the Application Answer URL to handle the incoming call.\n\nWe can use the Nexmo CLI to link the Nexmo phone number you bought earlier with the Application ID:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">nexmo link:app 12013456151 aaaaaaaa-bbbb-cccc-dddd-abcd12345678</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3a573315990-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3a573315990-2\">2</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3a573315990-1\"><span class=\"crayon-e\">nexmo </span><span class=\"crayon-v\">link</span><span class=\"crayon-o\">:</span><span class=\"crayon-i\">app</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">12013456151</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">aaaaaaaa</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">bbbb</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">cccc</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">dddd</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">abcd12345678</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3a573315990-2\">&nbsp;</div></div></td></tr></tbody></table>\n\nYou can make a phone call from your phone to your Nexmo phone number, youâ€™ll hear the message `Thank you for calling my Nexmo number.`, and you should see call events logged in the terminal where you Nuxt.js application is running.\n\n![](https://www.nexmo.com/wp-content/uploads/2020/02/log-events-receive.png)\n\n## Creating a Vue.js UI\n\nWeâ€™ve created the server functionality to make and receive phone calls; itâ€™s time to create a UI to interact with that functionality from the browser.\n\nFirst, letâ€™s clean up the existing UI Nuxt.js created for us. Replace the contents of the `/layouts/default.vue` file with:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">&lt;template&gt; &lt;div&gt; &lt;nuxt /&gt; &lt;/div&gt; &lt;/template&gt; &lt;style&gt; html { background-color: #42e182; } &lt;/style&gt;</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3b826946358-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3b826946358-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3b826946358-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3b826946358-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3b826946358-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3b826946358-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3b826946358-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3b826946358-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3b826946358-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3b826946358-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3b826946358-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3b826946358-12\">12</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3b826946358-1\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">template</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3b826946358-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3b826946358-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">nuxt</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3b826946358-4\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3b826946358-5\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">template</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3b826946358-6\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3b826946358-7\"><span class=\"crayon-ta\">&lt;style&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3b826946358-8\"><span class=\"crayon-k \">html </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3b826946358-9\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e \">background-color</span><span class=\"crayon-sy\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">#42e182</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3b826946358-10\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3b826946358-11\"><span class=\"crayon-ta\">&lt;/style&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3b826946358-12\">&nbsp;</div></div></td></tr></tbody></table>\n\nIâ€™m using a Mac Terminal template from [tailwindcomponents.com](https://tailwindcomponents.com/component/mac-terminal), so letâ€™s go ahead and replace the contents of the `<template>` tag in the `/pages/index.vue` file with the new UI:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">&lt;template&gt; &lt;div class=\"w-2/3 mx-auto py-20\"&gt; &lt;div class=\"w-full shadow-2xl subpixel-antialiased rounded h-64 bg-black border-black mx-auto\"&gt; &lt;div id=\"headerTerminal\" class=\"flex items-center h-6 rounded-t bg-gray-100 border-b border-gray-500 text-center text-black\" &gt; &lt;div id=\"closebtn\" class=\"flex ml-2 items-center text-center border-red-900 bg-red-500 shadow-inner rounded-full w-3 h-3\" /&gt; &lt;div id=\"minbtn\" class=\"ml-2 border-yellow-900 bg-yellow-500 shadow-inner rounded-full w-3 h-3\" /&gt; &lt;div id=\"maxbtn\" class=\"ml-2 border-green-900 bg-green-500 shadow-inner rounded-full w-3 h-3\" /&gt; &lt;div id=\"terminaltitle\" class=\"mx-auto pr-16\"&gt; &lt;p class=\"text-center text-sm\"&gt; &lt;logo /&gt;Terminal &lt;logo /&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id=\"console\" class=\"pl-1 pt-1 h-auto text-green-500 font-mono text-xs bg-black\"&gt; &lt;p class=\"pb-1\"&gt; Last login: {{ new Date().toUTCString() }} on ttys002 &lt;/p&gt; &lt;p v-for=\"counter in counters\" :key=\"counter.id\" class=\"pb-1\"&gt; &lt;span class=\"text-red-600\"&gt;@lakatos88&lt;/span&gt; &lt;span class=\"text-yellow-600 mx-1\"&gt;&gt;&lt;/span&gt; &lt;span class=\"text-blue-600\"&gt;~/nexmo/nexmo-nuxt-call&lt;/span&gt; &lt;span class=\"text-red-600 mx-1\"&gt;$&lt;/span&gt; &lt;span v-if=\"!counter.message\" class=\"blink\" contenteditable=\"true\" @click.once=\"stopBlinking\" @keydown.enter.once=\"runCommand\"&gt;_&lt;/span&gt; &lt;span v-if=\"counter.message\"&gt;{{ counter.message }}&lt;/span&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/template&gt;</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3c724238128-43\">43</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-1\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">template</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">div </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"w-2/3 mx-auto py-20\"</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">div </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"w-full shadow-2xl subpixel-antialiased rounded h-64 bg-black border-black mx-auto\"</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">div</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-5\"><span class=\"crayon-e\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"headerTerminal\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"flex items-center h-6 rounded-t bg-gray-100 border-b border-gray-500 text-center text-black\"</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">div</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-9\"><span class=\"crayon-e\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"closebtn\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"flex ml-2 items-center text-center border-red-900 bg-red-500 shadow-inner rounded-full w-3 h-3\"</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">div</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-13\"><span class=\"crayon-e\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"minbtn\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"ml-2 border-yellow-900 bg-yellow-500 shadow-inner rounded-full w-3 h-3\"</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">div</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-17\"><span class=\"crayon-e\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"maxbtn\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-18\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"ml-2 border-green-900 bg-green-500 shadow-inner rounded-full w-3 h-3\"</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-19\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-20\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">div </span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"terminaltitle\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"mx-auto pr-16\"</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-21\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"text-center text-sm\"</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-22\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">logo</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-v\">Terminal</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-23\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">logo</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-24\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">p</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-25\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-26\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-27\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">div </span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"console\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"pl-1 pt-1 h-auto text-green-500 font-mono text-xs bg-black\"</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-28\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"pb-1\"</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-29\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">Last </span><span class=\"crayon-v\">login</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Date</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">toUTCString</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">on </span><span class=\"crayon-v\">ttys002</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-30\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">p</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-31\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">v</span><span class=\"crayon-o\">-</span><span class=\"crayon-st\">for</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"counter in counters\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">key</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"counter.id\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"pb-1\"</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-32\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"text-red-600\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">lakatos88</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-33\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"text-yellow-600 mx-1\"</span><span class=\"crayon-o\">&gt;&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-34\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"text-blue-600\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nexmo</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nexmo</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">nuxt</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">call</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-35\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"text-red-600 mx-1\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">$</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-36\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">span</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">v</span><span class=\"crayon-o\">-</span><span class=\"crayon-st\">if</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"!counter.message\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"blink\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">contenteditable</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"true\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">click</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">once</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"stopBlinking\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">keydown</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">enter</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">once</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"runCommand\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-v\">_</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-37\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">span</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">v</span><span class=\"crayon-o\">-</span><span class=\"crayon-st\">if</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"counter.message\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">counter</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">message</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">}</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-38\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">p</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-39\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-40\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-41\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">div</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3c724238128-42\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">template</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3c724238128-43\">&nbsp;</div></div></td></tr></tbody></table>\n\nIâ€™ve modified the template slightly to match the colors to my terminal setup and update the user information to match my terminal as well.\n\nThe edits I did happen in the `console` div, so letâ€™s take a look at that. Iâ€™m using `{{ new Date().toUTCString() }}` to get the current date and display it on screen.\n\nIâ€™m then using the Vue.js `v-for` directive to loop through a `counters` array and display either a blinking underscore or a message in the terminal window, for every entry of the counters array. The blinking underscore has a `contenteditable` flag on it, which means you can edit the contents of it in the browser. Iâ€™m using the `@click` directive to run a JavaScript `stopBlinking` function the first time a user clicks on it, and stop it from blinking. The same HTML tag has a `@keydown.enter` directive on it as well, to run a `runCommand` function the first time a user hits the Enter key, effectively sending the command to the terminal.\n\nWeâ€™ll need to create the initial `counters` array in the Vue.js data structure, and create the methods for `stopBlinking` and `runCommand`. Letâ€™s replace the `<script>` tag in the same file with:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">&lt;script&gt; import Logo from '~/components/Logo.vue' export default { components: { Logo }, data () { return { counters: [{ id: 0 }] } }, mounted () { }, methods: { stopBlinking (event) { event.target.classList.remove('blink') event.target.textContent = '\\u00A0' }, async runCommand (event) { const splitCommand = event.target.textContent.trim().split(' ') event.target.contentEditable = false if (splitCommand.length &gt; 3 &amp;&amp; splitCommand[0] === 'nexmo' &amp;&amp; splitCommand[1] === 'call') { const call = await this.$axios.$get(`/api/make?text=${splitCommand.slice(3).join(' ')}&amp;number=${splitCommand[2]}`) this.counters.push({ id: this.counters.length, message: call }) } else { this.counters.push({ id: this.counters.length, message: `Unrecognized command \"${splitCommand[0]}\".` }) } this.counters.push({ id: this.counters.length }) } } } &lt;/script&gt;</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a3e866821420-34\">34</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-1\"><span class=\"crayon-ta\">&lt;script&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-2\"><span class=\"crayon-e\">import </span><span class=\"crayon-e\">Logo </span><span class=\"crayon-i\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'~/components/Logo.vue'</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-3\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-4\"><span class=\"crayon-e\">export</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">default</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-5\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">components</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-i\">Logo</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-7\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-8\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">data</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">counters</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-12\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-13\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">mounted</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-14\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-15\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">methods</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">stopBlinking</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-17\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">target</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">classList</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">remove</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'blink'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-18\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">target</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e \">textContent</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'\\u00A0'</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-19\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-20\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">async </span><span class=\"crayon-e\">runCommand</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-21\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">splitCommand</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">target</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">textContent</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">trim</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">split</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">' '</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-22\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">target</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">contentEditable</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">false</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-23\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">splitCommand</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">length</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">splitCommand</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">===</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'nexmo'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">splitCommand</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">===</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'call'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-24\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">call</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">await </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">axios</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">$</span><span class=\"crayon-e\">get</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">`</span><span class=\"crayon-c \">/api/m</span><span class=\"crayon-v\">ake</span><span class=\"crayon-sy\">?</span><span class=\"crayon-v\">text</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">splitCommand</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">slice</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">join</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">' '</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">}</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-v\">number</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">splitCommand</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">`</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-25\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">counters</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">push</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">counters</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">length</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">message</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">call</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-26\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-27\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">counters</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">push</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">counters</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">length</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">message</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-e\">Unrecognized </span><span class=\"crayon-i\">command</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"${splitCommand[0]}\"</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">`</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-28\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-29\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">counters</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">push</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">counters</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">length</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-30\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-31\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-32\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a3e866821420-33\"><span class=\"crayon-ta\">&lt;/script&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a3e866821420-34\">&nbsp;</div></div></td></tr></tbody></table>\n\nThe `runCommand` method is async, and it stops the HTML element from being `contentEditable`. It also splits the command from the terminal into four parts, the command name, the argument, the phone number, and the text message. The method checks to see if there are more than three parts in the command and that the first one is `nexmo`, and the second one is `call`. If thatâ€™s the case, it makes an HTTP `GET` request using `axios` to the `/api/make` endpoint we created earlier, passing along the text and number from the command. It then uses the message it receives back to display on the UI.\n\nIf the command is not `nexmo call number text`, it displays a generic error in the UI. Once thatâ€™s done, it adds a new line with a blinking underscore to the UI, waiting for the next command.\n\nIâ€™ve also replaced the contents of the `<style>` tag to position the Nuxt.js logos at the top of the terminal window, and create the blinking animation for the underscore.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">&lt;style&gt; .NuxtLogo { width: 10px; height: 10px; position: relative; margin: 0 10px; bottom: 2px; display: inline-block; } .blink { animation-duration: 1s; animation-name: blink; animation-iteration-count: infinite; } @keyframes blink { from { opacity: 1; } 50% { opacity: 0; } to { opacity: 1; } } &lt;/style&gt;</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a40322518169-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a40322518169-31\">31</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-1\"><span class=\"crayon-ta\">&lt;style&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-2\"><span class=\"crayon-k \">.NuxtLogo </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e \">width</span><span class=\"crayon-sy\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">10px</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-4\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e \">height</span><span class=\"crayon-sy\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">10px</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-5\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e \">position</span><span class=\"crayon-sy\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">relative</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-6\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e \">margin</span><span class=\"crayon-sy\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">10px</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-7\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e \">bottom</span><span class=\"crayon-sy\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">2px</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-8\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e \">display</span><span class=\"crayon-sy\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">inline-block</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-9\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-10\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-11\"><span class=\"crayon-k \">.blink </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-12\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e \">animation-duration</span><span class=\"crayon-sy\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">1s</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-13\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e \">animation-name</span><span class=\"crayon-sy\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">blink</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-14\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e \">animation-iteration-count</span><span class=\"crayon-sy\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">infinite</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-15\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-16\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-17\"><span class=\"crayon-n\">@keyframes blink </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-18\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-k \">from </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-19\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e \">opacity</span><span class=\"crayon-sy\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">1</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-20\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-21\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-22\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-k \">50% </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-23\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e \">opacity</span><span class=\"crayon-sy\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-24\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-25\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-26\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-k \">to </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-27\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e \">opacity</span><span class=\"crayon-sy\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i \">1</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-28\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-29\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a40322518169-30\"><span class=\"crayon-ta\">&lt;/style&gt;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a40322518169-31\">&nbsp;</div></div></td></tr></tbody></table>\n\nAt this point, you can make phone calls from the Vue.js UI, but the UI doesnâ€™t allow displaying call events. Because the events Webhook is triggered by Nexmo, we canâ€™t know from the UI code when there is a new event to request it. Weâ€™ll need to add some sort of polling mechanism to it.\n\n## Add WebSockets\n\nIâ€™m not a fan of long polling, so instead, I decided to build a WebSocket client/server pair for it. For the server, Iâ€™m using the [`ws`](https://www.npmjs.com/package/ws#simple-server) npm package, so weâ€™ll need to install it:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">$ npm install ws</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a41433210366-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a41433210366-2\">2</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a41433210366-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">npm </span><span class=\"crayon-e\">install </span><span class=\"crayon-i\">ws</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a41433210366-2\">&nbsp;</div></div></td></tr></tbody></table>\n\nTo build the WebSocket server, letâ€™s edit the `/api/events.js` file, to create a WebSocket server at the top of it. Iâ€™m also replacing the part that logs the event to the console. Iâ€™ll send it on the WebSocket instead.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">const WebSocket = require('ws') let websocket = {} const wss = new WebSocket.Server({ port: 3001 }) wss.on('connection', (ws) =&gt; { websocket = ws }) export default function (req, res, next) { console.log(req.method, req.url) if (req.method === 'POST') { const body = [] req.on('data', (chunk) =&gt; { body.push(chunk) }) req.on('end', () =&gt; { const event = JSON.parse(body) websocket.send(`Call from ${event.from} to ${event.to}. Status: ${event.status}`) }) } res.statusCode = 200 res.end() }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a42825111484-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a42825111484-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a42825111484-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a42825111484-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a42825111484-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a42825111484-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a42825111484-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a42825111484-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a42825111484-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a42825111484-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a42825111484-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a42825111484-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a42825111484-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a42825111484-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a42825111484-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a42825111484-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a42825111484-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a42825111484-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a42825111484-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a42825111484-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a42825111484-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a42825111484-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a42825111484-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a42825111484-24\">24</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a42825111484-1\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">WebSocket</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">require</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'ws'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a42825111484-2\"><span class=\"crayon-e\">let </span><span class=\"crayon-v\">websocket</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a42825111484-3\"><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wss</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">WebSocket</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Server</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">port</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3001</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a42825111484-4\"><span class=\"crayon-v\">wss</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">on</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'connection'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ws</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a42825111484-5\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">websocket</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">ws</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a42825111484-6\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a42825111484-7\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a42825111484-8\"><span class=\"crayon-e\">export </span><span class=\"crayon-st\">default</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">res</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">next</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a42825111484-9\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">method</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">url</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a42825111484-10\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">method</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">===</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'POST'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a42825111484-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">body</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a42825111484-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">on</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'data'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">chunk</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a42825111484-13\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">body</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">push</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">chunk</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a42825111484-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a42825111484-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">on</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'end'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a42825111484-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">event</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">JSON</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">parse</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">body</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a42825111484-17\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">websocket</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">send</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">`</span><span class=\"crayon-e\">Call</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">from</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">to</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Status</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">status</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">`</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a42825111484-18\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a42825111484-19\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a42825111484-20\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a42825111484-21\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">res</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">statusCode</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">200</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a42825111484-22\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">res</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">end</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a42825111484-23\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a42825111484-24\">&nbsp;</div></div></td></tr></tbody></table>\n\nThe server is starting on port `3001`, and sending the event data as soon as itâ€™s finished building from the request. Weâ€™ll need to add a WebSocket client to the UI as well, to receive the event and display it to the UI. Letâ€™s update the `/pages/index.vue` file, specifically the `mounted()` method, to create a WebSocket client as soon as the Vue.js component finished mounting.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">mounted () { console.log(process.env.WS_URL) const ws = new WebSocket(process.env.WS_URL) ws.onmessage = (event) =&gt; { this.counters[this.counters.length - 1].message = event.data this.counters.push({ id: this.counters.length }) } },</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a44946198669-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a44946198669-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a44946198669-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a44946198669-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a44946198669-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a44946198669-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a44946198669-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a44946198669-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a44946198669-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a44946198669-10\">10</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a44946198669-1\"><span class=\"crayon-e\">mounted</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a44946198669-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">WS_URL</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a44946198669-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ws</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">WebSocket</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">WS_URL</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a44946198669-4\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a44946198669-5\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">ws</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">onmessage</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a44946198669-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">counters</span><span class=\"crayon-sy\">[</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">counters</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">length</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">message</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">event</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">data</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a44946198669-7\"><span class=\"crayon-e\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">counters</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">push</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">counters</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">length</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a44946198669-8\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a44946198669-9\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a44946198669-10\">&nbsp;</div></div></td></tr></tbody></table>\n\nThe WebSocket client connects to the `process.env.WS_URL`, and sets a listener for messages. When there is a new message on the WebSocket, it updates the last command on the screen. It displays the event data received from the server, i.e., the `from`, `to`, and `status` of the call. It also adds a new line in the UI, with a blinking underscore.\n\nYouâ€™ve noticed weâ€™re using the `process.env.WS_URL`, so we need to add it to our `.env` file.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">WS_URL=ws://localhost:3001</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a45354588848-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a45354588848-2\">2</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a45354588848-1\"><span class=\"crayon-v\">WS_URL</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">ws</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//localhost:3001</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a45354588848-2\">&nbsp;</div></div></td></tr></tbody></table>\n\nBecause the Vue.js UI needs to know about the environment file, we need to add an entry about it to the Nuxt.js config file, `nuxt.config.js`.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">env: { wsUrl: process.env.WS_URL || 'ws://localhost:3001' },</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a46463729036-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a46463729036-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1a74a46463729036-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1a74a46463729036-4\">4</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a46463729036-1\"><span class=\"crayon-v\">env</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a46463729036-2\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">wsUrl</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">WS_URL</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'ws://localhost:3001'</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1a74a46463729036-3\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1a74a46463729036-4\">&nbsp;</div></div></td></tr></tbody></table>\n\n### Try It Out\n\nYou can load `http://localhost:3000/` in your browser, click on the blinking underscore, and type `nexmo call YOUR_PHONE_NUMBER hello`. After you press Enter on the keyboard, you should receive a call on your phone, and the event data should show up in the UI. If you call that number back, you can see the status for that call appearing in your browser as well.\n\n![Make and Receive Phone Calls with Nuxt.js and Nexmo](https://www.nexmo.com/wp-content/uploads/2020/02/make-receive-nuxt.png)\n\nI hope it worked for you. If it did, then youâ€™ve just learned how to make and receive phone calls with the Nexmo APIs and Nuxt.js."}