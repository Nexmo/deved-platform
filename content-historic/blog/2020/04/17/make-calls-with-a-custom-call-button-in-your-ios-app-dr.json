{"_filedata":{"slug":"make-calls-with-a-custom-call-button-in-your-ios-app-dr"},"title":"Make Calls With a Custom Call Button in Your iOS App","description":"","thumbnail":"https://www.nexmo.com/wp-content/uploads/2020/03/Blog_Customer-Call-Button_1200x600-1.png","author":368,"published":true,"published_at":"2020-04-17T10:10:33","tags":[661,595],"body":"<p>In this tutorial, we will review how to easily make calls inside of your iOS application using a custom UI component, <code>NXMCallButton</code>.</p>\n<p>As the name suggests, <code>NXMCallButton</code> is a subclass of UIButton and, when pressed, the callee will be called using the Nexmo Client SDK—the callee can be either an in-app user or a PSTN number, depending on how the button is configured.</p>\n<h2>Prerequisites</h2>\n<ul>\n<li>A <a href=\"https://developer.nexmo.com/client-sdk/in-app-voice/getting-started/app-to-app-call/ios\">Vonage APIs (formerly Nexmo) application</a></p>\n</li>\n<li>\n<p>At least <a href=\"https://developer.nexmo.com/client-sdk/in-app-voice/getting-started/app-to-app-call/ios\">one user</a> for your Vonage APIs application with a <a href=\"https://developer.nexmo.com/client-sdk/in-app-voice/getting-started/app-to-app-call/ios\">valid JWT</a></p>\n</li>\n<li>\n<p>A <a href=\"https://developer.nexmo.com/concepts/guides/webhooks\">webhook</a> for <a href=\"https://developer.nexmo.com/application/overview#webhooks\">Voice API</a></p>\n</li>\n</ul>\n<p>In this tutorial, the project will be called <code>MyApp</code> and will be located in <code>~/Documents/MyApp</code>. We&#8217;ll begin with an empty <code>Single View App</code> template generated by Xcode.</p>\n<p><em>Note for Xcode 11:</em>  When choosing options for your new project, make sure you select the <code>Storyboard</code> value for the <code>User Interface</code> field:</p>\n<p><img src=\"https://i.imgur.com/8F6llaC.png\" alt=\"enter image description here\" /></p>\n<p>Let&#8217;s begin!</p>\n<h2>Installing Nexmo Client SDK</h2>\n<h3>Initiating CocoaPods for your Project</h3>\n<p>You will need to initiate CocoaPods for your project by executing the following commands:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8c534792898622\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\ncd ~/Documents/MyApp\npod init\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c534792898622-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c534792898622-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c534792898622-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c534792898622-1\"><span class=\"crayon-v\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Documents</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">MyApp</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c534792898622-2\"><span class=\"crayon-e\">pod </span><span class=\"crayon-i\">init</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c534792898622-3\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0001 seconds] -->\r\n<p></p>\n<p>Notice that a file named <code>Podfile</code> was created.</p>\n<h3>Add the Nexmo Client SDK Pod</h3>\n<p>To add the Nexmo Client SDK pod, open the newly created <code>Podfile</code> using Xcode and add <code>NexmoClient</code> to your project target:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8c53a093985604\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\ntarget 'MyApp' do\n  use_frameworks!\n  pod 'NexmoClient'\nend\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53a093985604-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53a093985604-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53a093985604-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53a093985604-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53a093985604-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53a093985604-1\"><span class=\"crayon-i\">target</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'MyApp'</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">do</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53a093985604-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">use_frameworks</span><span class=\"crayon-o\">!</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53a093985604-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-i\">pod</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'NexmoClient'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53a093985604-4\"><span class=\"crayon-st\">end</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53a093985604-5\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0001 seconds] -->\r\n<p></p>\n<p>Close all Xcode instances and update the CocoaPods dependencies by executing the following in the terminal:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8c53c019741546\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\npod update\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53c019741546-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53c019741546-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53c019741546-1\"><span class=\"crayon-e\">pod </span><span class=\"crayon-i\">update</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53c019741546-2\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0000 seconds] -->\r\n<p></p>\n<p>Going forward, make sure you&#8217;re launching the newly created <code>MyApp.xcworkspace</code> rather than the <code>MyApp.xcproject</code> file.</p>\n<h3>Adding required permissions</h3>\n<p>The call button will perform a call, therefore make sure to enable the microphone usage permission. When the call button is pressed, a permission request will be presented to the user requesting access to record audio. This permission request is already implemented by the button.</p>\n<p>In addition, you need to state why the microphone permission is necessary. Open Xcode, then open <code>Info.plist</code>. Right-click and choose the <em>Add Row</em> option, then insert <code>NSMicrophoneUsageDescription</code> as the key for the row. The row value should be a string describing the reason your app wants to access the microphone (e.g, &#8220;Audio Calls&#8221;).</p>\n<p><img src=\"https://i.imgur.com/N2h46i2.png\" alt=\"Adding microphone usage permission to Info.plist\" /></p>\n<p>Now you can go straight ahead to the fun stuff! Let&#8217;s add the button to the UI.</p>\n<h2>Adding and Configuring the Custom UI Component</h2>\n<h3>Adding the custom UIButton</h3>\n<p>Create a new empty Swift file named <code>NXMCallButton.swift</code> in your project and copy the contents of the following GitHub Gist:<br />\n<a href=\"https://raw.githubusercontent.com/nexmo-community/client-sdk-call-button/master/NXMCallButton.swift\">https://raw.githubusercontent.com/nexmo-community/client-sdk-call-button/master/NXMCallButton.swift</a></p>\n<p>You can now add the <code>NXMCallButton</code> component to the user interface in one of two ways: using the storyboard or adding the button programmatically.</p>\n<h4>Method 1: Using the Storyboard</h4>\n<ol>\n<li>Open <code>Main.storyboard</code>.</p>\n</li>\n<li>\n<p>Select a <code>Button</code> object from the object library and add it to the interface:<br />\n<img src=\"https://i.imgur.com/a0uSJgX.png\" alt=\"Adding a button object to the interface\" /></p>\n</li>\n<li>\n<p>Change the custom class of the UIButton to <code>NXMCallButton</code>:<br />\n<img src=\"https://i.imgur.com/eyw8RYb.png\" alt=\"Changing custom class to NXMCallButton\" /></p>\n</li>\n<li>\n<p>Configure the inspectable parameters of the button:</p>\n</li>\n</ol>\n<ul>\n<li><code>Nexmo Token</code> should be a valid <a href=\"https://developer.nexmo.com/conversation/guides/user-authentication\">JWT Token</a> you use to authenticate your Nexmo Client instance.</li>\n<li><code>Callee</code> should be a PSTN phone number or a username of a user in your app that will be called when the button is pressed.</li>\n</ul>\n<p>Note: If you want to change the <code>Nexmo Token</code> and <code>Callee</code> parameters dynamically, you can follow the steps in the next section.</p>\n<h4>Method 2: Adding the Call Button Programmatically</h4>\n<p>Adding the call button programmatically allows you to change its properties, such as <code>callee</code> and <code>nexmoToken</code>, dynamically.  In addition to calling the desired destination, more actions can be added for when the button is pressed—for example, switching to a different view.</p>\n<p>To add the button programmatically to a view controller, you need to do the following steps:</p>\n<ol>\n<li>Create a new instance of <code>NXMCallButton</code>.</li>\n<li>Set values for its <code>title</code> and <code>callee</code> properties.</li>\n<li>Authenticate your Nexmo Client instance by using the <code>login(withAuthToken:)</code> method of <code>NXMClient.shared</code>.</li>\n<li>Optionally, perform any additional UI setup you wish, such as configuring a background color and constraints. As <code>NXMCallButton</code> inherits from <code>UIButton</code>, all <code>UIButton</code>&#8216;s properties are available for you to use.</li>\n<li>If desired, add additional actions to the button—for example, trigger a segue to a different view when the button is pressed.</li>\n<li>Add the call button to your view.</li>\n</ol>\n<p>Here is how it looks inside a <code>UIViewController</code>:</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8c53d509095439\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\nimport UIKit\nimport NexmoClient\nclass ViewController: UIViewController {\n    override func viewDidLoad() {\n      super.viewDidLoad()\n\n      // new instance of NXMCallButton\n      let callButton = NXMCallButton()\n\n      // set values for the button's title and callee\n      callButton.setTitle(\"Call\", for: .normal)\n      callButton.callee = \"15555551234\" // Phone Number or username\n\n      // Authentication\n      NexmoClient.shared.login(withAuthToken: \"YOUR_JWT_TOKEN\")\n\n      // Optional UI Setup\n      callButton.backgroundColor = .lightGray\n\n      // A target which performs a call when the button is pressed is already added\n      // callButton.addTarget(self, action: #selector(callButtonAction), for: .touchUpInside)\n      // Add button to UI\n      callButton.translatesAutoresizingMaskIntoConstraints = false\n      self.view.addSubview(callButton)\n\n      // Add your desired layout constrains, for example:\n      NSLayoutConstraint.activate([\n                callButton.leadingAnchor.constraint(equalTo: self.view.safeAreaLayoutGuide.leadingAnchor),\n                callButton.trailingAnchor.constraint(equalTo: self.view.safeAreaLayoutGuide.trailingAnchor),\n                callButton.topAnchor.constraint(equalTo: self.view.safeAreaLayoutGuide.bottomAnchor,constant: -30),\n                callButton.bottomAnchor.constraint(equalTo: self.view.safeAreaLayoutGuide.bottomAnchor),\n                ])\n    }\n    @objc func callButtonAction(sender: UIButton!) {\n      print(\"Button tapped\")\n    }\n}\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53d509095439-38\">38</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-1\"><span class=\"crayon-e\">import </span><span class=\"crayon-e\">UIKit</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-2\"><span class=\"crayon-e\">import </span><span class=\"crayon-e\">NexmoClient</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-3\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ViewController</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">UIViewController</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">override </span><span class=\"crayon-e\">func </span><span class=\"crayon-e\">viewDidLoad</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">super</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">viewDidLoad</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-6\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// new instance of NXMCallButton</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">let </span><span class=\"crayon-v\">callButton</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">NXMCallButton</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-9\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// set values for the button's title and callee</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">callButton</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">setTitle</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Call\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">for</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">normal</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">callButton</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">callee</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"15555551234\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Phone Number or username</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-13\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-14\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// Authentication</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-15\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">NexmoClient</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">shared</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">login</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">withAuthToken</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"YOUR_JWT_TOKEN\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-16\">&nbsp;</div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-17\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// Optional UI Setup</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-18\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">callButton</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">backgroundColor</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">lightGray</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-19\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-20\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// A target which performs a call when the button is pressed is already added</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-21\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// callButton.addTarget(self, action: #selector(callButtonAction), for: .touchUpInside)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-22\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// Add button to UI</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-23\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">callButton</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">translatesAutoresizingMaskIntoConstraints</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">false</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-24\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">view</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">addSubview</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">callButton</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-25\">&nbsp;</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-26\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// Add your desired layout constrains, for example:</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-27\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">NSLayoutConstraint</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">activate</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-28\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">callButton</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">leadingAnchor</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">constraint</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">equalTo</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">view</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">safeAreaLayoutGuide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">leadingAnchor</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-29\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">callButton</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">trailingAnchor</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">constraint</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">equalTo</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">view</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">safeAreaLayoutGuide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">trailingAnchor</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-30\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">callButton</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">topAnchor</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">constraint</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">equalTo</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">view</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">safeAreaLayoutGuide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">bottomAnchor</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">constant</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">30</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-31\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">callButton</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">bottomAnchor</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">constraint</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">equalTo</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">view</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">safeAreaLayoutGuide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">bottomAnchor</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-32\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-33\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-34\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">objc </span><span class=\"crayon-e\">func </span><span class=\"crayon-e\">callButtonAction</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sender</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">UIButton</span><span class=\"crayon-o\">!</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-35\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-e\">print</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Button tapped\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-36\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53d509095439-37\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53d509095439-38\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p></p>\n<p>It is also possible to execute a completion handler after a call has been started. It is a good practice to present a message to the user that a call has started or to display a different screen.</p>\n<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->\r\n\r\n\t\t<div id=\"crayon-5e9c0bcb8c53f959549141\" class=\"crayon-syntax crayon-theme-nexmo-2018 crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-mouseover\" style=\" margin-top: 24px; margin-bottom: 24px; font-size: 14px !important; line-height: 22px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 14px !important;height: 21px !important; line-height: 21px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"Toggle Line Numbers\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"Toggle Line Wrap\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"Expand Code\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"Copy\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"Open Code In New Window\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 19.6px !important; line-height: 19.6px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">\nlet myCallCompletionHandler = { (error: Error?, call: NXMCall?) in\n    if (error != nil) {\n        // Handle error\n    } else {\n        // Handle success\n        // For example: switch to a different view presenting a call session\n    }\n}\ncallButton.callCompletionHandler = myCallCompletionHandler\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53f959549141-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53f959549141-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53f959549141-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53f959549141-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53f959549141-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53f959549141-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53f959549141-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53f959549141-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9c0bcb8c53f959549141-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9c0bcb8c53f959549141-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53f959549141-1\"><span class=\"crayon-e\">let </span><span class=\"crayon-v\">myCallCompletionHandler</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">error</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Error</span><span class=\"crayon-sy\">?</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">call</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">NXMCall</span><span class=\"crayon-sy\">?</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53f959549141-2\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">error</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nil</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53f959549141-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// Handle error</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53f959549141-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53f959549141-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// Handle success</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53f959549141-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-c\">// For example: switch to a different view presenting a call session</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53f959549141-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53f959549141-8\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9c0bcb8c53f959549141-9\"><span class=\"crayon-v\">callButton</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">callCompletionHandler</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">myCallCompletionHandler</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9c0bcb8c53f959549141-10\">&nbsp;</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0002 seconds] -->\r\n<p></p>\n<h2>Summary</h2>\n<p>In this tutorial, we have reviewed the process of integrating calls to an app by using a custom <code>NXMCallButton</code> component. We have walked through two ways to do this: via the interface builder without a single line of code, and programmatically, having the freedom to modify and configure it dynamically.</p>\n<p>If you want to see the magic happen before your eyes, set the callee to your phone number, run the app, and click the dial button. A quick reminder that an answer webhook is required to enable calling—see <a href=\"https://developer.nexmo.com/client-sdk/tutorials/app-to-phone/client-sdk/app-to-phone/create-webhook-server\">this tutorial</a> as an example.</p>\n<h2>Further Reading</h2>\n<ul>\n<li><a href=\"https://developer.nexmo.com/tools\">Nexmo SDKs and Tools</a></li>\n<li><a href=\"https://github.com/nexmo-community/client-sdk-call-button\">NXMCallButton.swift on GitHub</a></li>\n<li><a href=\"https://developer.nexmo.com/client-sdk/in-app-messaging/overview\">In-app messaging using the Nexmo Client SDK</a></li>\n</ul>\n<p>Copyright (c) 2020 Vonage. All rights reserved.</p>\n"}