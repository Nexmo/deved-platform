{"_filedata":{"slug":"screenshot-and-save-a-chatlog-with-conversation-api-and-cloudinary-dr"},"title":"Screenshot and Save a Chatlog with Conversation API and Cloudinary","description":"","thumbnail":"https://www.nexmo.com/wp-content/uploads/2019/11/E_Screenshot-and-Save_1200x600.png","author":337,"published":true,"published_at":"2019-11-29T13:50:18","tags":[1648,1623,1550,1649],"body":"Imagine that in a moment of brilliance, after collaborating with teammates online, you‚Äôve created and designed something rather impressive and now, before it flees from your memory, you need to quickly save the idea!\n\nOR imagine that you‚Äôre chatting with a customer service help agent or bot at your favorite company. Wouldn‚Äôt it be helpful to be able to show them EXACTLY what was happening on your screen?\n\nDo these scenarios sound familiar? _Well, you‚Äôre in luck!_ Because the [Cloudinary API](https://cloudinary.com/documentation/solution_overview) allows you to swiftly upload a screenshot to the cloud, annotate the image to include key important details, as well as organize the file into tagged folders.\n\nCombining with the Nexmo [Conversation API](https://developer.nexmo.com/conversation/overview), which offers multi-channel communication, you can quickly share your Cloudinary screenshots via chat, video, or messaging with your colleagues or customer service agent!\n\n## Let‚Äôs Build an App\n\nToday, in collaboration with the Cloudinary API, we‚Äôll build an app that will allow you to take a screenshot of your desktop and a Nexmo Conversation chatlog, annotate the image with important contextual details of the conversation, and save and organize that image in the cloud for easy future access!\n\n### The Flow of the App\n\n[https://www.nexmo.com/wp-content/uploads/2019/11/cloudinary.mp4](https://www.nexmo.com/wp-content/uploads/2019/11/cloudinary.mp4)\n\nWithin an open chatlog, if either the customer or the agent enters the word ‚Äúscreenshot‚Äù into the log, a screenshot is captured. That image is then annotated with key information made available from the [Nexmo Conversation API](https://developer.nexmo.com/conversation/overview) and subsequently is tagged by Cloudinary and uploaded into a folder within your portal for quick and easy access anywhere you are!\n\n## Prerequisites\n\n*   [Nexmo account](https://dashboard.nexmo.com/sign-up?utm_source=DEV_REL&utm_medium=github&utm_campaign=https://github.com/nexmo-community/cloudinary-conversation-API-collab)\n*   [Cloudinary account](https://cloudinary.com/users/register/free?utm_source=nexmo&utm_medium=referral&utm_campaign=nexmo_blog&utm_term=cloudinary-api)\n\nThis tutorial expands upon a recent blog post on [how to build an on-page live chat app](https://www.nexmo.com/blog/2019/10/18/how-to-build-an-on-page-live-chat-dr). We will add to the code that can be remixed on Glitch [here](https://glitch.com/~hoomin-chatbox).\n\nIf you would like to run it locally as opposed to using Glitch, clone [this repo](https://github.com/nexmo-community/cloudinary-conversation-API-collab) and use [Ngrok](https://ngrok.com/) to run your [webhook](https://developer.nexmo.com/concepts/guides/webhooks) server locally.\n\nIf you are not familiar with Ngrok, please refer to our [Ngrok tutorial](https://www.nexmo.com/blog/2017/07/04/local-development-nexmo-ngrok-tunnel-dr/) before proceeding.\n\nBuilding off of the prior tutorial, your `.env` file should already be populated with your Nexmo credentials (API key, secret, application ID, private key, and support agent user ID). But if not, go ahead and follow the instructions detailed [here](https://www.nexmo.com/blog/2019/10/18/how-to-build-an-on-page-live-chat-dr).\n\n### Add Your Cloudinary Credentials\n\nNavigate to [Cloudinary](https://cloudinary.com/console) and sign up for a free account. Save your given Cloud Name, API key, and secret and add those to your .env file.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">CLOUD_NAME=\"YourCloudName\" CLOUD_API_KEY=\"1234567890\" CLOUD_API_SECRET=\"abCdeFghIjkLmnOpqrsTuvWxyZ\"</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e07178910116957-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e07178910116957-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e07178910116957-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e07178910116957-4\">4</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1e07178910116957-1\"><span class=\"crayon-v\">CLOUD_NAME</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"YourCloudName\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e07178910116957-2\"><span class=\"crayon-v\">CLOUD_API_KEY</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"1234567890\"</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e07178910116957-3\"><span class=\"crayon-v\">CLOUD_API_SECRET</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"abCdeFghIjkLmnOpqrsTuvWxyZ\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e07178910116957-4\">&nbsp;</div></div></td></tr></tbody></table>\n\n_Alternatively: you can use the Environment Variable `CLOUDINARY_URL` found underneath your API Secret in the console._\n\n### Add Cloudinary to the Code\n\nTo begin, install Cloudinary as a dependency as well as an npm library called `desktop-screenshot`.\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">npm install cloudinary desktop-screenshot</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e0717b952742085-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e0717b952742085-2\">2</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1e0717b952742085-1\"><span class=\"crayon-e\">npm </span><span class=\"crayon-e\">install </span><span class=\"crayon-e\">cloudinary </span><span class=\"crayon-v\">desktop</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">screenshot</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e0717b952742085-2\">&nbsp;</div></div></td></tr></tbody></table>\n\nAt the top of your `server.js` file, call those two:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">var cloudinary = require(\"cloudinary\").v2; var screenshot = require(\"desktop-screenshot\");</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e0717c083472540-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e0717c083472540-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e0717c083472540-3\">3</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1e0717c083472540-1\"><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cloudinary</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">require</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"cloudinary\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">v2</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e0717c083472540-2\"><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">screenshot</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">require</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"desktop-screenshot\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e0717c083472540-3\">&nbsp;</div></div></td></tr></tbody></table>\n\nThen set up the config for Cloudinary by referencing the credentials you just added to your `.env` file:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">cloudinary.config({ cloud_name: process.env.CLOUD_NAME, api_key: process.env.CLOUD_API_KEY, api_secret: process.env.CLOUD_API_SECRET });</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e0717e570161880-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e0717e570161880-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e0717e570161880-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e0717e570161880-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e0717e570161880-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e0717e570161880-6\">6</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1e0717e570161880-1\"><span class=\"crayon-v\">cloudinary</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">config</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e0717e570161880-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">cloud_name</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">CLOUD_NAME</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e0717e570161880-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">api_key</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">CLOUD_API_KEY</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e0717e570161880-4\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-v\">api_secret</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">process</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">env</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">CLOUD_API</span><span class=\"crayon-sy\">_</span>SECRET</div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e0717e570161880-5\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e0717e570161880-6\">&nbsp;</div></div></td></tr></tbody></table>\n\nAll of the handlers in the `server.js` file will remain the same except for `\"/webhooks/event\"`. We will call the Cloudinary API within this handler.\n\n### Take the Screenshot\n\nThe scenario now is to imagine that when a user enters the text ‚Äòscreenshot‚Äô in the chat, an image of the desktop is taken. It then is uploaded to Cloudinary and is organized within a tagged folder within Cloudinary‚Äôs portal.\n\nWithin the `app.route(\"/webhooks/event\").post` handler, a simple `if statement` is used to kick off that logic:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">if (req.body.body.text == \"screenshot\") { screenshot(\"screenshot.png\", function(error, complete) { if (error) console.log(\"Screenshot failed\", error); else console.log(\"Screenshot succeeded\"); }); }</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e0717f897842257-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e0717f897842257-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e0717f897842257-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e0717f897842257-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e0717f897842257-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e0717f897842257-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e0717f897842257-7\">7</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1e0717f897842257-1\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">body</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">body</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">text</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"screenshot\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e0717f897842257-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-e\">screenshot</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"screenshot.png\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">complete</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e0717f897842257-3\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Screenshot failed\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e0717f897842257-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Screenshot succeeded\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e0717f897842257-5\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e0717f897842257-6\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e0717f897842257-7\">&nbsp;</div></div></td></tr></tbody></table>\n\nHere, the npm library `desktop-screenshot` is called, and the image is saved as ‚Äúscreenshot.png‚Äù locally.\n\nNext, within that `if statement`, let‚Äôs upload that image to your Cloudinary portal:\n\n<textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly=\"\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 22px !important;\">cloudinary.uploader.upload( \"screenshot.png\", { tags: \"screenshot\", overlay: { font_family: \"Arial\", font_size: 50, text: \"Conversation: \" + req.body.conversation_id + \"Timestamp: \" + req.body.timestamp } }, function(error, result) { console.log(result, error); } );</textarea>\n\n<table class=\"crayon-table\"><tbody><tr class=\"crayon-row\"><td class=\"crayon-nums \" data-settings=\"show\"><div class=\"crayon-nums-content\" style=\"font-size: 14px !important; line-height: 22px !important;\"><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e07180878432180-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e07180878432180-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e07180878432180-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e07180878432180-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e07180878432180-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e07180878432180-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e07180878432180-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e07180878432180-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e07180878432180-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e07180878432180-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e07180878432180-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e07180878432180-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e07180878432180-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e07180878432180-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e07180878432180-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e07180878432180-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e07180878432180-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-5e9ddc1e07180878432180-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-5e9ddc1e07180878432180-19\">19</div></div></td><td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 14px !important; line-height: 22px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-5e9ddc1e07180878432180-1\"><span class=\"crayon-v\">cloudinary</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">uploader</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">upload</span><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e07180878432180-2\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-s\">\"screenshot.png\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e07180878432180-3\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e07180878432180-4\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">tags</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"screenshot\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e07180878432180-5\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">overlay</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e07180878432180-6\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">font_family</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Arial\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e07180878432180-7\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">font_size</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">50</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e07180878432180-8\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">text</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e07180878432180-9\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-s\">\"Conversation: \"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e07180878432180-10\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">body</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">conversation_id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e07180878432180-11\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-s\">\"Timestamp: \"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e07180878432180-12\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">req</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">body</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">timestamp</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e07180878432180-13\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e07180878432180-14\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e07180878432180-15\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-t\">function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">result</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e07180878432180-16\"><span class=\"crayon-h\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"crayon-v\">console</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">result</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e07180878432180-17\"><span class=\"crayon-h\">&nbsp;&nbsp;</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-5e9ddc1e07180878432180-18\"><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-5e9ddc1e07180878432180-19\">&nbsp;</div></div></td></tr></tbody></table>\n\nThe referenced id and timestamp are made available via Nexmo‚Äôs Conversation API and are contextually stored within the application and user‚Äôs history.\n\nThe screenshot file is also modified with an overlay added on top of it to include the conversation ID as well as a timestamp before it is uploaded to Cloudinary. The added tag organizes the file to a particular folder called ‚Äúscreenshot.‚Äù\n\n[![cloudinary files](https://www.nexmo.com/wp-content/uploads/2019/11/Screen-Shot-2019-11-25-at-10.18.35-AM.png)](https://www.nexmo.com/wp-content/uploads/2019/11/Screen-Shot-2019-11-25-at-10.18.35-AM.png)\n\n## Go Forth From Here\n\nThis tutorial covers just a few use cases for both Cloudinary and Nexmo. There really is so much that could be done both to the image and within the conversation. Today we‚Äôve covered how to take a screenshot of your desktop and a Nexmo Conversation chatlog, annotate the image with important contextual details of the conversation, and save and organize that image in the cloud for easy future access.\n\nWith Cloudinary, you can do so much more to the image; You could manipulate it by cropping, enhancing, or collaging many images all into one. Go check out [the docs](https://cloudinary.com/documentation) and share with us what creative things you come up with!\n\nAnd with the Nexmo [Conversation API](https://developer.nexmo.com/conversation/overview), you can combine all styles of communication, such as chat, voice, video, and messaging between multiple members all to be contextually saved within a single communication event. We encourage readers to go forth and play, explore, and create with the Conversation API and to share back with us your inventions and discoveries!\n\nCheck out this [GitHub repo](https://github.com/nexmo-community/cloudinary-conversation-API-collab) to see the final version of this Cloudinary/Nexmo app!\n\n_Special thanks to üåü[Tessa Mero](https://twitter.com/TessaMero)üåü over at [Cloudinary](https://cloudinary.com/) for collaborating on this tutorial!_"}